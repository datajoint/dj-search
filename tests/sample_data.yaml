djmon:
  definition: |2-



    datajoint_monitoring = dj.Schema('datajoint_monitoring')




    @datajoint_monitoring
    class Host(dj.Manual):
        definition = """
        hostname             : varchar(255)                 
        """


    @datajoint_monitoring
    class EventType(dj.Lookup):
        definition = """
        ev_type_id           : tinyint                      
        ---
        ev_type_name         : varchar(32)                  
        """


    @datajoint_monitoring
    class Event(dj.Manual):
        definition = """
        ev_datetime          : datetime                     
        -> EventType
        ---
        ev_note=null         : varchar(1024)                
        """


    @datajoint_monitoring
    class MySQLProcessList(dj.Manual):
        definition = """
        -> Host
        -> Event
        """

        class MySQLProcess(dj.Part):
            definition = """
            -> MySQLProcessList
            mpl_id               : int                          
            ---
            mpl_user             : varchar(32)                  
            mpl_host             : varchar(64)                  
            mpl_db=null          : varchar(64)                  
            mpl_command          : varchar(16)                  
            mpl_time=0           : int                          
            mpl_state=null       : varchar(64)                  
            mpl_info=null        : varchar(4096)                
            mpl_time_ms=0        : int                          
            mpl_rows_sent=0      : int                          
            mpl_rows_examined=0  : int                          
            """


    @datajoint_monitoring
    class HostMetric(dj.Manual):
        definition = """
        -> Host
        -> Event
        """

        class HostMetricDetail(dj.Part):
            definition = """
            -> HostMetric
            hm_id                : bigint unsigned auto_increment 
            ---
            hm_name              : varchar(32)                  
            hm_value             : float                        
            hm_log_time="CURRENT_TIMESTAMP(3)" : timestamp(3)
            """
  virtual_modules:
    datajoint_monitoring: |-
      """This module was auto-generated by datajoint from an existing schema"""

      import datajoint as dj

      schema = dj.Schema('datajoint_monitoring')




      @schema
      class Host(dj.Manual):
          definition = """
          hostname             : varchar(255)                 
          """


      @schema
      class EventType(dj.Lookup):
          definition = """
          ev_type_id           : tinyint                      
          ---
          ev_type_name         : varchar(32)                  
          """


      @schema
      class Event(dj.Manual):
          definition = """
          ev_datetime          : datetime                     
          -> EventType
          ---
          ev_note=null         : varchar(1024)                
          """


      @schema
      class MySQLProcessList(dj.Manual):
          definition = """
          -> Host
          -> Event
          """

          class MySQLProcess(dj.Part):
              definition = """
              -> MySQLProcessList
              mpl_id               : int                          
              ---
              mpl_user             : varchar(32)                  
              mpl_host             : varchar(64)                  
              mpl_db=null          : varchar(64)                  
              mpl_command          : varchar(16)                  
              mpl_time=0           : int                          
              mpl_state=null       : varchar(64)                  
              mpl_info=null        : varchar(4096)                
              mpl_time_ms=0        : int                          
              mpl_rows_sent=0      : int                          
              mpl_rows_examined=0  : int                          
              """


      @schema
      class HostMetric(dj.Manual):
          definition = """
          -> Host
          -> Event
          """

          class HostMetricDetail(dj.Part):
              definition = """
              -> HostMetric
              hm_id                : bigint unsigned auto_increment 
              ---
              hm_name              : varchar(32)                  
              hm_value             : float                        
              hm_log_time="CURRENT_TIMESTAMP(3)" : timestamp(3)                 
              UNIQUE INDEX (hm_id)
              """
strf:
  definition: |2-



    rguzman_STRF_pyPL = dj.Schema('rguzman_STRF_pyPL')




    @rguzman_STRF_pyPL
    class Samples(dj.Manual):
        definition = """
        # Sample Pool
        sample_number        : int                          # unique id for mouse
        """


    @rguzman_STRF_pyPL
    class Subjects(dj.Manual):
        definition = """
        # Subject Pool
        -> Samples
        subject_name         : varchar(40)                  # unique name for retina subject
        """


    @rguzman_STRF_pyPL
    class Sessions(dj.Manual):
        definition = """
        # Session Pool
        -> Subjects
        session_date         : date                         # session date
        """


    @rguzman_STRF_pyPL
    class MovieFiles(dj.Manual):
        definition = """
        # MovieFile Pool
        file_name            : varchar(100)                 # unique id for MovieFile
        """


    @rguzman_STRF_pyPL
    class Movies(dj.Imported):
        definition = """
        # Movie Pool
        -> MovieFiles
        ---
        fps                  : double                       # freq, frames per second
        movie                : longblob                     # movie blob
        n_frames             : int                          # number of frames
        stim_width           : int                          # total width
        stim_height          : int                          # total height
        x_block_size         : int                          # each horizontal block width
        y_block_size         : int                          # each vertical block height
        """


    @rguzman_STRF_pyPL
    class Stimuli(dj.Manual):
        definition = """
        # Stimulus Pool
        -> Sessions
        -> Movies
        ---
        stimulus_onset       : double                       # delay until stimulus
        pixel_size           : double                       # pixel size on the retina
        """


    @rguzman_STRF_pyPL
    class Neurons(dj.Imported):
        definition = """
        # Neuron Pool
        -> Stimuli
        neuron_id            : int                          # unique id for neuron
        ---
        spikes               : longblob                     # spike detection for neuron data
        """


    @rguzman_STRF_pyPL
    class STRFParams(dj.Lookup):
        definition = """
        # Parameters for STRF Computation
        strf_id              : int                          # unique id for strf params
        ---
        delay                : float                        # configurable delay
        """


    @rguzman_STRF_pyPL
    class STRFCalcs(dj.Computed):
        definition = """
        # STRFCalc Pool
        -> Neurons
        -> STRFParams
        ---
        sta                  : longblob                     # calculated result of STRF
        mov_shape            : varchar(30)                  # calculated result of STRF
        """
  virtual_modules:
    rguzman_STRF_pyPL: |-
      """This module was auto-generated by datajoint from an existing schema"""

      import datajoint as dj

      schema = dj.Schema('rguzman_STRF_pyPL')




      @schema
      class Samples(dj.Manual):
          definition = """
          # Sample Pool
          sample_number        : int                          # unique id for mouse
          """


      @schema
      class Subjects(dj.Manual):
          definition = """
          # Subject Pool
          -> Samples
          subject_name         : varchar(40)                  # unique name for retina subject
          """


      @schema
      class Sessions(dj.Manual):
          definition = """
          # Session Pool
          -> Subjects
          session_date         : date                         # session date
          """


      @schema
      class MovieFiles(dj.Manual):
          definition = """
          # MovieFile Pool
          file_name            : varchar(100)                 # unique id for MovieFile
          """


      @schema
      class Movies(dj.Imported):
          definition = """
          # Movie Pool
          -> MovieFiles
          ---
          fps                  : double                       # freq, frames per second
          movie                : longblob                     # movie blob
          n_frames             : int                          # number of frames
          stim_width           : int                          # total width
          stim_height          : int                          # total height
          x_block_size         : int                          # each horizontal block width
          y_block_size         : int                          # each vertical block height
          """


      @schema
      class Stimuli(dj.Manual):
          definition = """
          # Stimulus Pool
          -> Sessions
          -> Movies
          ---
          stimulus_onset       : double                       # delay until stimulus
          pixel_size           : double                       # pixel size on the retina
          """


      @schema
      class Neurons(dj.Imported):
          definition = """
          # Neuron Pool
          -> Stimuli
          neuron_id            : int                          # unique id for neuron
          ---
          spikes               : longblob                     # spike detection for neuron data
          """


      @schema
      class STRFParams(dj.Lookup):
          definition = """
          # Parameters for STRF Computation
          strf_id              : int                          # unique id for strf params
          ---
          delay                : float                        # configurable delay
          """


      @schema
      class STRFCalcs(dj.Computed):
          definition = """
          # STRFCalc Pool
          -> Neurons
          -> STRFParams
          ---
          sta                  : longblob                     # calculated result of STRF
          mov_shape            : varchar(30)                  # calculated result of STRF
          """
ibl_ingest:
  definition: |2-



    ibl_ingest_reference = dj.Schema('ibl_ingest_reference')

    ibl_alyxraw = dj.VirtualModule('ibl_alyxraw', 'ibl_alyxraw')


    @ibl_ingest_reference
    class ProjectLabMember(dj.Manual):
        definition = """
        project_name         : varchar(255)                 
        user_name            : varchar(255)                 
        projectlabmember_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_reference
    class CoordinateSystem(dj.Imported):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(coordinate_system_uuid="uuid")
        ---
        coordinate_system_name : varchar(64)                  
        coordinate_system_description=null : varchar(2048)                
        """


    @ibl_ingest_reference
    class Project(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(project_uuid="uuid")
        ---
        project_name         : varchar(255)                 
        project_description=null : varchar(1024)                
        project_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_reference
    class LabMembership(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(lab_membership_uuid="uuid")
        ---
        lab_name             : varchar(255)                 
        user_name            : varchar(255)                 
        role=null            : varchar(255)                 
        mem_start_date=null  : date                         
        mem_end_date=null    : date                         
        labmembership_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_reference
    class LabMember(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(user_uuid="uuid")
        ---
        user_name            : varchar(255)                 # username
        last_login=null      : datetime                     # last login
        date_joined          : datetime                     # date joined
        is_active            : tinyint                      # active
        is_staff             : tinyint                      # staff status
        is_superuser         : tinyint                      # superuser status
        is_stock_manager     : tinyint                      # stock manager status
        labmember_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_reference
    class LabLocation(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(location_uuid="uuid")
        ---
        lab_name             : varchar(64)                  
        location_name        : varchar(255)                 # name of the location
        lablocation_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_reference
    class Lab(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(lab_uuid="uuid")
        ---
        lab_name             : varchar(255)                 # name of lab
        institution          : varchar(255)                 
        address              : varchar(255)                 
        time_zone            : varchar(255)                 
        reference_weight_pct : float                        
        zscore_weight_pct    : float                        
        lab_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_reference
    class BrainRegion(dj.Lookup):
        definition = """
        brain_region_pk      : int                          # primary key of brain region consistent with Allen marking
        ---
        acronym              : varchar(32)                  # e.g. "Su3",
        brain_region_name    : varchar(128)                 # fullname of the brain region
        parent=null          : int                          # pk of the parent
        ontology="CCF 2017"  : varchar(32)                  # ccf version
        brain_region_level=null : tinyint                      # level in the tree, root is 0
        graph_order=null     : smallint unsigned            # graph order shown in allen brain atlas
        """



    ibl_ingest_subject = dj.Schema('ibl_ingest_subject')

    ibl_alyxraw = dj.VirtualModule('ibl_alyxraw', 'ibl_alyxraw')


    @ibl_ingest_subject
    class Litter(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(litter_uuid="uuid")
        ---
        litter_name          : varchar(255)                 # name of the litter
        bp_name=null         : varchar(255)                 # name of the breedingpair, inherited from BreedingPair
        litter_line=null     : varchar(255)                 # line of the litter
        litter_description=null : varchar(255)                 # description
        litter_birth_date=null : date                         # birth date
        litter_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class GenotypeTest(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(genotype_test_uuid="uuid")
        ---
        subject_uuid         : uuid                         
        sequence_name        : varchar(255)                 # inherited from Sequence
        test_result          : enum('Present','Absent')     # test result
        genotypetest_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class Zygosity(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(zygosity_uuid="uuid")
        ---
        subject_uuid         : uuid                         
        allele_name          : varchar(255)                 # inherited from Allele
        zygosity             : enum('Present','Absent','Homozygous','Heterozygous') # zygosity
        zygosity_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class Food(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(food_uuid="uuid")
        ---
        food_name            : varchar(255)                 
        food_description=""  : varchar(255)                 
        food_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class CageType(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(cage_type_uuid="uuid")
        ---
        cage_type_name       : varchar(255)                 
        cage_type_description="" : varchar(255)                 
        cage_type_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class Line(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(line_uuid="uuid")
        ---
        binomial             : varchar(255)                 # binomial, inherited from Species
        strain_name=null     : varchar(255)                 # strain name, inherited from Strain
        line_name            : varchar(255)                 # line name
        line_description=null : varchar(2048)                # description
        target_phenotype=null : varchar(255)                 # target phenotype
        line_nickname        : varchar(255)                 # auto name
        is_active            : tinyint                      # is active
        line_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class Enrichment(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(enrichment_uuid="uuid")
        ---
        enrichment_name      : varchar(255)                 
        enrichment_description="" : varchar(255)                 
        enrichment_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class BreedingPair(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(bp_uuid="uuid")
        ---
        bp_line=null         : varchar(255)                 # line name, inherited from Line
        bp_name              : varchar(255)                 # name of the breeding pair
        bp_description=null  : varchar(2048)                # description
        bp_start_date=null   : date                         # start date
        bp_end_date=null     : date                         # end date
        father=null          : uuid                         # subject uuid of dad, inherited from subject
        mother1=null         : uuid                         # subject uuid of mom, inherited from subject
        mother2=null         : uuid                         # subject uuid of mom2, if has one, inherited from subject
        breedingpair_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class SubjectHousing(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(subject_housing_uuid="uuid")
        ---
        housing_start_time   : datetime                     
        housing_end_time=null : datetime                     
        cage_name            : varchar(255)                 
        subject_uuid         : uuid                         
        subject_housing_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class Strain(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(strain_uuid="uuid")
        ---
        strain_name          : varchar(255)                 # strain name
        strain_description=null : varchar(255)                 # description
        strain_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class Sequence(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(sequence_uuid="uuid")
        ---
        sequence_name        : varchar(255)                 # informal name
        base_pairs=null      : varchar(1024)                # base pairs
        sequence_description=null : varchar(255)                 # description
        sequence_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class Source(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(source_uuid="uuid")
        ---
        source_name          : varchar(255)                 # name of source
        source_description=null : varchar(255)                 # description
        source_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class Allele(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(allele_uuid="uuid")
        ---
        allele_name          : varchar(255)                 # informal name
        standard_name=null   : varchar(255)                 # standard name
        allele_source=null   : varchar(255)                 # source of the allele
        source_identifier=null : varchar(255)                 # id inside the line provider
        source_url=null      : varchar(255)                 # link to the line information
        expression_data_url=null : varchar(255)                 # link to the expression pattern from Allen institute brain atlas
        allele_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class Species(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(species_uuid="uuid")
        ---
        binomial             : varchar(255)                 
        species_nickname     : varchar(255)                 
        species_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class Housing(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(housing_uuid="uuid")
        ---
        cage_name            : varchar(255)                 
        food_name=null       : varchar(255)                 
        cage_type_name=null  : varchar(255)                 
        enrichment_name=null : varchar(255)                 
        cage_cleaning_frequency=null : int                          
        light_cycle=null     : int                          
        housing_description="" : varchar(255)                 
        housing_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class LineAllele(dj.Manual):
        definition = """
        line_name            : varchar(255)                 # name
        allele_name          : varchar(255)                 # informal name
        ---
        lineallele_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class Subject(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(subject_uuid="uuid")
        ---
        subject_nickname     : varchar(255)                 # nickname
        sex                  : enum('M','F','U')            # sex
        subject_birth_date=null : date                         # birth date
        subject_line=null    : varchar(255)                 # line of the subject
        protocol_number      : tinyint                      # protocol number
        ear_mark=null        : varchar(255)                 # ear mark
        subject_source=null  : varchar(255)                 # source name, inherited from Source
        subject_description=null : varchar(1024)                
        subject_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class Weaning(dj.Computed):
        definition = """
        -> Subject
        ---
        wean_date=null       : date                         # wean date
        weaning_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class UserHistory(dj.Computed):
        definition = """
        -> Subject
        user_name            : varchar(255)                 # username
        ---
        user_change_time=null : datetime                     # time when changed to this user
        userhistory_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class SubjectUser(dj.Computed):
        definition = """
        -> Subject
        ---
        responsible_user     : varchar(255)                 
        subjectuser_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class SubjectProject(dj.Computed):
        definition = """
        -> Subject
        subject_project      : varchar(255)                 
        ---
        subjectproject_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class SubjectLab(dj.Computed):
        definition = """
        -> Subject
        ---
        lab_name             : varchar(255)                 
        subjectlab_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class SubjectCullMethod(dj.Computed):
        definition = """
        -> Subject
        ---
        cull_method          : varchar(255)                 
        cull_method_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class LitterSubject(dj.Computed):
        definition = """
        -> Subject
        ---
        litter_name          : varchar(255)                 
        littersubject_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class Implant(dj.Computed):
        definition = """
        -> Subject
        ---
        implant_weight       : float                        # implant weight
        adverse_effects=null : varchar(2048)                # adverse effects
        actual_severity=null : tinyint                      # actual severity, inherited from Severity
        protocol_number      : tinyint                      
        implant_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class Death(dj.Computed):
        definition = """
        -> Subject
        ---
        death_date=null      : date                         
        death_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class Caging(dj.Computed):
        definition = """
        -> Subject
        cage_name            : varchar(255)                 
        ---
        caging_time=null     : datetime                     # time when changed to this cage
        caging_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_subject
    class AlleleSequence(dj.Manual):
        definition = """
        allele_name          : varchar(255)                 # allele name, inherited from Allele
        sequence_name        : varchar(255)                 # sequence name, inherited from Sequence
        ---
        allelesequence_ts=CURRENT_TIMESTAMP : timestamp                    
        """



    ibl_ingest_action = dj.Schema('ibl_ingest_action')

    ibl_alyxraw = dj.VirtualModule('ibl_alyxraw', 'ibl_alyxraw')


    @ibl_ingest_action
    class WaterRestrictionUser(dj.Manual):
        definition = """
        subject_uuid         : uuid                         
        restriction_start_time : datetime                     
        user_name            : varchar(255)                 
        ---
        waterrestrictionuser_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_action
    class Surgery(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(surgery_uuid="uuid")
        ---
        subject_uuid         : uuid                         
        surgery_lab=null     : varchar(255)                 # lab for sugery
        surgery_location=null : varchar(255)                 # foreign key inherited from reference.LabLocation
        surgery_start_time   : datetime                     # surgery start time
        surgery_end_time=null : datetime                     # surgery end time
        surgery_outcome_type : enum('None','a','n','r')     # outcome type
        surgery_narrative=null : varchar(2048)                # narrative
        surgery_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_action
    class WaterAdministration(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(wateradmin_uuid="uuid")
        ---
        subject_uuid         : uuid                         
        administration_user=null : varchar(255)                 
        administration_time  : datetime                     # date time
        water_administered=null : float                        # water administered
        watertype_name       : varchar(255)                 # type of water
        adlib                : tinyint                      
        wateradministration_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_action
    class OtherActionProcedure(dj.Manual):
        definition = """
        subject_uuid         : uuid                         
        other_action_start_time : datetime                     # start time
        procedure_type_name  : varchar(255)                 
        otheractionprocedure_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_action
    class Weighing(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(weigh_uuid="uuid")
        ---
        subject_uuid         : uuid                         
        weighing_time        : datetime                     # date time
        weight               : float                        # weight in grams
        weighing_user=null   : varchar(255)                 
        weighing_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_action
    class WaterType(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(watertype_uuid="uuid")
        ---
        watertype_name       : varchar(255)                 
        watertype_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_action
    class WaterRestriction(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(restriction_uuid="uuid")
        ---
        subject_uuid         : uuid                         
        restriction_start_time : datetime                     # start time
        restriction_end_time=null : datetime                     # end time
        restriction_narrative=null : varchar(1024)                
        reference_weight     : float                        
        restriction_lab=null : varchar(255)                 
        restriction_location=null : varchar(255)                 
        waterrestriction_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_action
    class OtherAction(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(other_action_uuid="uuid")
        ---
        subject_uuid         : uuid                         
        other_action_start_time : datetime                     # start time
        other_action_end_time=null : datetime                     # end time
        other_action_lab=null : varchar(255)                 
        other_action_location=null : varchar(255)                 # refer to reference.Location
        otheraction_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_action
    class OtherActionUser(dj.Manual):
        definition = """
        subject_uuid         : uuid                         
        other_action_start_time : datetime                     # start time
        user_name            : varchar(255)                 
        otheractionuser_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_action
    class SurgeryProcedure(dj.Manual):
        definition = """
        subject_uuid         : uuid                         
        surgery_start_time   : datetime                     
        procedure_type_name  : varchar(255)                 
        surgeryprocedure_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_action
    class SurgeryUser(dj.Manual):
        definition = """
        subject_uuid         : uuid                         
        surgery_start_time   : datetime                     
        user_name            : varchar(255)                 
        ---
        surgeryuser_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_action
    class WaterRestrictionProcedure(dj.Manual):
        definition = """
        subject_uuid         : uuid                         
        restriction_start_time : varchar(255)                 
        procedure_type_name  : varchar(255)                 
        ---
        waterrestrictionprocedure_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_action
    class ProcedureType(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(procedure_type_uuid="uuid")
        ---
        procedure_type_name  : varchar(255)                 
        procedure_type_description=null : varchar(1024)                
        proceduretype_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_action
    class VirusInjection(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(virus_injection_uuid="uuid")
        ---
        subject_uuid         : uuid                         
        injection_time       : datetime                     # injection time
        injection_volume     : float                        # injection volume
        rate_of_injection    : float                        # rate of injection
        injection_type       : varchar(255)                 # injection type
        virusinjection_ts=CURRENT_TIMESTAMP : timestamp                    
        """



    ibl_ingest_acquisition = dj.Schema('ibl_ingest_acquisition')

    ibl_alyxraw = dj.VirtualModule('ibl_alyxraw', 'ibl_alyxraw')


    @ibl_ingest_acquisition
    class SessionProcedure(dj.Manual):
        definition = """
        subject_uuid         : uuid                         
        session_start_time   : datetime                     
        procedure_type_name  : varchar(255)                 
        ---
        sessionprocedure_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_acquisition
    class ChildSession(dj.Manual):
        definition = """
        subject_uuid         : uuid                         
        session_start_time   : datetime                     
        ---
        parent_session_start_time : datetime                     
        childsession_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_acquisition
    class SessionProject(dj.Manual):
        definition = """
        subject_uuid         : uuid                         
        session_start_time   : datetime                     
        ---
        session_project      : varchar(255)                 
        sessionproject_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_acquisition
    class Session(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(session_uuid="uuid")
        ---
        session_number=null  : int                          
        subject_uuid         : uuid                         
        session_start_time   : datetime                     
        session_end_time=null : datetime                     
        session_lab=null     : varchar(255)                 
        session_location=null : varchar(255)                 
        session_type=null    : varchar(255)                 
        session_narrative=null : varchar(2048)                
        task_protocol=null   : varchar(255)                 
        session_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_acquisition
    class WaterAdministrationSession(dj.Manual):
        definition = """
        subject_uuid         : uuid                         
        administration_time  : datetime                     
        ---
        session_start_time   : datetime                     
        wateradministrationsession_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_acquisition
    class SessionUser(dj.Manual):
        definition = """
        subject_uuid         : uuid                         
        session_start_time   : datetime                     
        user_name            : varchar(255)                 
        ---
        sessionuser_ts=CURRENT_TIMESTAMP : timestamp                    
        """



    ibl_ingest_data = dj.Schema('ibl_ingest_data')

    ibl_alyxraw = dj.VirtualModule('ibl_alyxraw', 'ibl_alyxraw')


    @ibl_ingest_data
    class DataRepository(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(repo_uuid="uuid")
        ---
        repo_name            : varchar(255)                 
        repotype_name        : varchar(255)                 
        repo_timezone        : varchar(255)                 
        repo_hostname        : varchar(255)                 
        globus_endpoint_id   : varchar(255)                 
        globus_path          : varchar(255)                 
        data_url=null        : varchar(255)                 
        globus_is_personal   : tinyint                      
        datarepository_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_data
    class FileRecord(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(record_uuid="uuid")
        ---
        exists               : tinyint                      
        subject_uuid         : uuid                         
        session_start_time   : datetime                     
        dataset_name         : varchar(255)                 
        repo_name            : varchar(255)                 
        relative_path        : varchar(255)                 
        """


    @ibl_ingest_data
    class DataRepositoryType(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(repotype_uuid="uuid")
        ---
        repotype_name        : varchar(255)                 
        datarepositorytype_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_data
    class DataSet(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(dataset_uuid="uuid")
        ---
        subject_uuid         : uuid                         
        session_start_time   : datetime                     
        dataset_created_by=null : varchar(255)                 
        dataset_name         : varchar(255)                 
        dataset_type_name    : varchar(255)                 
        format_name          : varchar(255)                 
        created_datetime     : datetime                     
        generating_software=null : varchar(255)                 
        provenance_directory=null : varchar(255)                 
        md5=null             : varchar(255)                 
        file_size=null       : float                        
        """


    @ibl_ingest_data
    class ProjectRepository(dj.Manual):
        definition = """
        project_name         : varchar(255)                 
        repo_name            : varchar(255)                 
        ---
        projectrepository_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_data
    class DataSetType(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(dataset_type_uuid="uuid")
        ---
        dataset_type_name    : varchar(255)                 
        dataset_type_created_by=null : varchar(255)                 
        filename_pattern     : varchar(255)                 
        dataset_type_description=null : varchar(1024)                
        datasettype_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_data
    class DataFormat(dj.Computed):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(format_uuid="uuid")
        ---
        format_name          : varchar(255)                 
        file_extension=""    : varchar(255)                 
        matlab_loader_function=null : varchar(255)                 
        python_loader_function=null : varchar(255)                 
        format_description=null : varchar(255)                 
        dataformat_ts=CURRENT_TIMESTAMP : timestamp                    
        """



    ibl_ingest_ephys = dj.Schema('ibl_ingest_ephys')

    ibl_alyxraw = dj.VirtualModule('ibl_alyxraw', 'ibl_alyxraw')


    @ibl_ingest_ephys
    class ProbeModel(dj.Imported):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(probe_uuid="uuid")
        ---
        probe_name           : varchar(128)                 
        probe_model          : varchar(32)                  # 3A, 3B
        probe_manufacturer   : varchar(32)                  
        probe_description=null : varchar(2048)                
        probe_model_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_ephys
    class ProbeInsertion(dj.Imported):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(probe_insertion_uuid="uuid")
        ---
        probe_idx            : int                          # 0 for probe00, 1 for probe01
        probe_label=null     : varchar(255)                 # name in the alyx model experiments.probeinsertion
        subject_uuid         : uuid                         # subject uuid from session
        session_start_time   : datetime                     # session start time from session
        probe_name=null      : varchar(32)                  # probe name, from ProbeModel table
        probe_insertion_ts=CURRENT_TIMESTAMP : timestamp                    
        """



    ibl_ingest_histology = dj.Schema('ibl_ingest_histology')

    ibl_alyxraw = dj.VirtualModule('ibl_alyxraw', 'ibl_alyxraw')


    @ibl_ingest_histology
    class ChannelBrainLocation(dj.Imported):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(channel_brain_location_uuid="uuid")
        ---
        subject_uuid         : uuid                         
        session_start_time   : datetime                     
        probe_idx            : tinyint                      
        channel_axial        : decimal(6,1)                 
        channel_lateral      : decimal(6,1)                 
        channel_x            : decimal(6,1)                 
        channel_y            : decimal(6,1)                 
        channel_z            : decimal(6,1)                 
        insertion_data_source : varchar(128)                 
        ontology             : varchar(32)                  
        acronym              : varchar(32)                  
        """


    @ibl_ingest_histology
    class ProbeTrajectory(dj.Imported):
        definition = """
        -> ibl_alyxraw.AlyxRaw.proj(probe_trajectory_uuid="uuid")
        ---
        subject_uuid         : uuid                         
        session_start_time   : datetime                     
        probe_idx            : int                          
        x                    : float                        
        y                    : float                        
        z                    : float                        
        depth                : float                        
        theta                : float                        
        phi                  : float                        
        roll=null            : float                        
        insertion_data_source : varchar(128)                 
        coordinate_system_name=null : varchar(32)                  
        trajectory_ts        : datetime                     
        """


    @ibl_ingest_histology
    class InsertionDataSource(dj.Lookup):
        definition = """
        insertion_data_source : varchar(128)                 # type of trajectory
        ---
        provenance           : int                          # provenance code
        """



    ibl_ingest_job = dj.Schema('ibl_ingest_job')




    @ibl_ingest_job
    class TimeZone(dj.Lookup):
        definition = """
        timezone             : varchar(16)                  
        """


    @ibl_ingest_job
    class Task(dj.Lookup):
        definition = """
        task                 : varchar(64)                  
        ---
        task_order           : tinyint                      
        task_description=""  : varchar(1024)                
        """


    @ibl_ingest_job
    class Job(dj.Manual):
        definition = """
        job_date             : date                         
        -> TimeZone.proj(job_timezone="timezone")
        ---
        alyx_current_timestamp : datetime                     
        alyx_previous_timestamp : datetime                     
        created_pks          : longblob                     
        modified_pks         : longblob                     
        deleted_pks          : longblob                     
        modified_pks_important=null : longblob                     
        session_prefiltered=0 : tinyint                      
        job_ts=CURRENT_TIMESTAMP : timestamp                    
        """


    @ibl_ingest_job
    class TaskStatus(dj.Manual):
        definition = """
        -> Job
        -> Task
        ---
        task_start_time      : datetime                     
        task_end_time        : datetime                     
        task_duration        : float                        # in mins
        task_status_comments="" : varchar(1000)                
        """
  virtual_modules:
    ibl_ingest_reference: |-
      """This module was auto-generated by datajoint from an existing schema"""

      import datajoint as dj

      schema = dj.Schema('ibl_ingest_reference')

      vmod0 = dj.VirtualModule('vmod0', 'ibl_alyxraw')


      @schema
      class ProjectLabMember(dj.Manual):
          definition = """
          project_name         : varchar(255)                 
          user_name            : varchar(255)                 
          projectlabmember_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class LabMembership(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(lab_membership_uuid="uuid")
          ---
          lab_name             : varchar(255)                 
          user_name            : varchar(255)                 
          role=null            : varchar(255)                 
          mem_start_date=null  : date                         
          mem_end_date=null    : date                         
          labmembership_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class LabLocation(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(location_uuid="uuid")
          ---
          lab_name             : varchar(64)                  
          location_name        : varchar(255)                 # name of the location
          lablocation_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class LabMember(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(user_uuid="uuid")
          ---
          user_name            : varchar(255)                 # username
          last_login=null      : datetime                     # last login
          date_joined          : datetime                     # date joined
          is_active            : tinyint                      # active
          is_staff             : tinyint                      # staff status
          is_superuser         : tinyint                      # superuser status
          is_stock_manager     : tinyint                      # stock manager status
          labmember_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class CoordinateSystem(dj.Imported):
          definition = """
          -> vmod0.AlyxRaw.proj(coordinate_system_uuid="uuid")
          ---
          coordinate_system_name : varchar(64)                  
          coordinate_system_description=null : varchar(2048)                
          """


      @schema
      class Lab(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(lab_uuid="uuid")
          ---
          lab_name             : varchar(255)                 # name of lab
          institution          : varchar(255)                 
          address              : varchar(255)                 
          time_zone            : varchar(255)                 
          reference_weight_pct : float                        
          zscore_weight_pct    : float                        
          lab_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class BrainRegion(dj.Lookup):
          definition = """
          brain_region_pk      : int                          # primary key of brain region consistent with Allen marking
          ---
          acronym              : varchar(32)                  # e.g. "Su3",
          brain_region_name    : varchar(128)                 # fullname of the brain region
          parent=null          : int                          # pk of the parent
          ontology="CCF 2017"  : varchar(32)                  # ccf version
          brain_region_level=null : tinyint                      # level in the tree, root is 0
          graph_order=null     : smallint unsigned            # graph order shown in allen brain atlas
          """


      @schema
      class Project(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(project_uuid="uuid")
          ---
          project_name         : varchar(255)                 
          project_description=null : varchar(1024)                
          project_ts=CURRENT_TIMESTAMP : timestamp                    
          """
    ibl_ingest_subject: |-
      """This module was auto-generated by datajoint from an existing schema"""

      import datajoint as dj

      schema = dj.Schema('ibl_ingest_subject')

      vmod0 = dj.VirtualModule('vmod0', 'ibl_alyxraw')


      @schema
      class Litter(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(litter_uuid="uuid")
          ---
          litter_name          : varchar(255)                 # name of the litter
          bp_name=null         : varchar(255)                 # name of the breedingpair, inherited from BreedingPair
          litter_line=null     : varchar(255)                 # line of the litter
          litter_description=null : varchar(255)                 # description
          litter_birth_date=null : date                         # birth date
          litter_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class GenotypeTest(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(genotype_test_uuid="uuid")
          ---
          subject_uuid         : uuid                         
          sequence_name        : varchar(255)                 # inherited from Sequence
          test_result          : enum('Present','Absent')     # test result
          genotypetest_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Zygosity(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(zygosity_uuid="uuid")
          ---
          subject_uuid         : uuid                         
          allele_name          : varchar(255)                 # inherited from Allele
          zygosity             : enum('Present','Absent','Homozygous','Heterozygous') # zygosity
          zygosity_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Food(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(food_uuid="uuid")
          ---
          food_name            : varchar(255)                 
          food_description=""  : varchar(255)                 
          food_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class CageType(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(cage_type_uuid="uuid")
          ---
          cage_type_name       : varchar(255)                 
          cage_type_description="" : varchar(255)                 
          cage_type_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Line(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(line_uuid="uuid")
          ---
          binomial             : varchar(255)                 # binomial, inherited from Species
          strain_name=null     : varchar(255)                 # strain name, inherited from Strain
          line_name            : varchar(255)                 # line name
          line_description=null : varchar(2048)                # description
          target_phenotype=null : varchar(255)                 # target phenotype
          line_nickname        : varchar(255)                 # auto name
          is_active            : tinyint                      # is active
          line_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Enrichment(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(enrichment_uuid="uuid")
          ---
          enrichment_name      : varchar(255)                 
          enrichment_description="" : varchar(255)                 
          enrichment_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class BreedingPair(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(bp_uuid="uuid")
          ---
          bp_line=null         : varchar(255)                 # line name, inherited from Line
          bp_name              : varchar(255)                 # name of the breeding pair
          bp_description=null  : varchar(2048)                # description
          bp_start_date=null   : date                         # start date
          bp_end_date=null     : date                         # end date
          father=null          : uuid                         # subject uuid of dad, inherited from subject
          mother1=null         : uuid                         # subject uuid of mom, inherited from subject
          mother2=null         : uuid                         # subject uuid of mom2, if has one, inherited from subject
          breedingpair_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class SubjectHousing(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(subject_housing_uuid="uuid")
          ---
          housing_start_time   : datetime                     
          housing_end_time=null : datetime                     
          cage_name            : varchar(255)                 
          subject_uuid         : uuid                         
          subject_housing_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Strain(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(strain_uuid="uuid")
          ---
          strain_name          : varchar(255)                 # strain name
          strain_description=null : varchar(255)                 # description
          strain_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Sequence(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(sequence_uuid="uuid")
          ---
          sequence_name        : varchar(255)                 # informal name
          base_pairs=null      : varchar(1024)                # base pairs
          sequence_description=null : varchar(255)                 # description
          sequence_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Source(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(source_uuid="uuid")
          ---
          source_name          : varchar(255)                 # name of source
          source_description=null : varchar(255)                 # description
          source_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Allele(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(allele_uuid="uuid")
          ---
          allele_name          : varchar(255)                 # informal name
          standard_name=null   : varchar(255)                 # standard name
          allele_source=null   : varchar(255)                 # source of the allele
          source_identifier=null : varchar(255)                 # id inside the line provider
          source_url=null      : varchar(255)                 # link to the line information
          expression_data_url=null : varchar(255)                 # link to the expression pattern from Allen institute brain atlas
          allele_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Species(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(species_uuid="uuid")
          ---
          binomial             : varchar(255)                 
          species_nickname     : varchar(255)                 
          species_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Housing(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(housing_uuid="uuid")
          ---
          cage_name            : varchar(255)                 
          food_name=null       : varchar(255)                 
          cage_type_name=null  : varchar(255)                 
          enrichment_name=null : varchar(255)                 
          cage_cleaning_frequency=null : int                          
          light_cycle=null     : int                          
          housing_description="" : varchar(255)                 
          housing_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class LineAllele(dj.Manual):
          definition = """
          line_name            : varchar(255)                 # name
          allele_name          : varchar(255)                 # informal name
          ---
          lineallele_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Subject(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(subject_uuid="uuid")
          ---
          subject_nickname     : varchar(255)                 # nickname
          sex                  : enum('M','F','U')            # sex
          subject_birth_date=null : date                         # birth date
          subject_line=null    : varchar(255)                 # line of the subject
          protocol_number      : tinyint                      # protocol number
          ear_mark=null        : varchar(255)                 # ear mark
          subject_source=null  : varchar(255)                 # source name, inherited from Source
          subject_description=null : varchar(1024)                
          subject_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Weaning(dj.Computed):
          definition = """
          -> Subject
          ---
          wean_date=null       : date                         # wean date
          weaning_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class UserHistory(dj.Computed):
          definition = """
          -> Subject
          user_name            : varchar(255)                 # username
          ---
          user_change_time=null : datetime                     # time when changed to this user
          userhistory_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class SubjectUser(dj.Computed):
          definition = """
          -> Subject
          ---
          responsible_user     : varchar(255)                 
          subjectuser_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class SubjectProject(dj.Computed):
          definition = """
          -> Subject
          subject_project      : varchar(255)                 
          ---
          subjectproject_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class SubjectLab(dj.Computed):
          definition = """
          -> Subject
          ---
          lab_name             : varchar(255)                 
          subjectlab_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class SubjectCullMethod(dj.Computed):
          definition = """
          -> Subject
          ---
          cull_method          : varchar(255)                 
          cull_method_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class LitterSubject(dj.Computed):
          definition = """
          -> Subject
          ---
          litter_name          : varchar(255)                 
          littersubject_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Implant(dj.Computed):
          definition = """
          -> Subject
          ---
          implant_weight       : float                        # implant weight
          adverse_effects=null : varchar(2048)                # adverse effects
          actual_severity=null : tinyint                      # actual severity, inherited from Severity
          protocol_number      : tinyint                      
          implant_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Death(dj.Computed):
          definition = """
          -> Subject
          ---
          death_date=null      : date                         
          death_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Caging(dj.Computed):
          definition = """
          -> Subject
          cage_name            : varchar(255)                 
          ---
          caging_time=null     : datetime                     # time when changed to this cage
          caging_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class AlleleSequence(dj.Manual):
          definition = """
          allele_name          : varchar(255)                 # allele name, inherited from Allele
          sequence_name        : varchar(255)                 # sequence name, inherited from Sequence
          ---
          allelesequence_ts=CURRENT_TIMESTAMP : timestamp                    
          """
    ibl_ingest_action: |-
      """This module was auto-generated by datajoint from an existing schema"""

      import datajoint as dj

      schema = dj.Schema('ibl_ingest_action')

      vmod0 = dj.VirtualModule('vmod0', 'ibl_alyxraw')


      @schema
      class WaterRestrictionUser(dj.Manual):
          definition = """
          subject_uuid         : uuid                         
          restriction_start_time : datetime                     
          user_name            : varchar(255)                 
          ---
          waterrestrictionuser_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Surgery(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(surgery_uuid="uuid")
          ---
          subject_uuid         : uuid                         
          surgery_lab=null     : varchar(255)                 # lab for sugery
          surgery_location=null : varchar(255)                 # foreign key inherited from reference.LabLocation
          surgery_start_time   : datetime                     # surgery start time
          surgery_end_time=null : datetime                     # surgery end time
          surgery_outcome_type : enum('None','a','n','r')     # outcome type
          surgery_narrative=null : varchar(2048)                # narrative
          surgery_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class WaterAdministration(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(wateradmin_uuid="uuid")
          ---
          subject_uuid         : uuid                         
          administration_user=null : varchar(255)                 
          administration_time  : datetime                     # date time
          water_administered=null : float                        # water administered
          watertype_name       : varchar(255)                 # type of water
          adlib                : tinyint                      
          wateradministration_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class OtherActionProcedure(dj.Manual):
          definition = """
          subject_uuid         : uuid                         
          other_action_start_time : datetime                     # start time
          procedure_type_name  : varchar(255)                 
          otheractionprocedure_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Weighing(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(weigh_uuid="uuid")
          ---
          subject_uuid         : uuid                         
          weighing_time        : datetime                     # date time
          weight               : float                        # weight in grams
          weighing_user=null   : varchar(255)                 
          weighing_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class WaterType(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(watertype_uuid="uuid")
          ---
          watertype_name       : varchar(255)                 
          watertype_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class WaterRestriction(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(restriction_uuid="uuid")
          ---
          subject_uuid         : uuid                         
          restriction_start_time : datetime                     # start time
          restriction_end_time=null : datetime                     # end time
          restriction_narrative=null : varchar(1024)                
          reference_weight     : float                        
          restriction_lab=null : varchar(255)                 
          restriction_location=null : varchar(255)                 
          waterrestriction_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class OtherAction(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(other_action_uuid="uuid")
          ---
          subject_uuid         : uuid                         
          other_action_start_time : datetime                     # start time
          other_action_end_time=null : datetime                     # end time
          other_action_lab=null : varchar(255)                 
          other_action_location=null : varchar(255)                 # refer to reference.Location
          otheraction_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class OtherActionUser(dj.Manual):
          definition = """
          subject_uuid         : uuid                         
          other_action_start_time : datetime                     # start time
          user_name            : varchar(255)                 
          otheractionuser_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class SurgeryProcedure(dj.Manual):
          definition = """
          subject_uuid         : uuid                         
          surgery_start_time   : datetime                     
          procedure_type_name  : varchar(255)                 
          surgeryprocedure_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class SurgeryUser(dj.Manual):
          definition = """
          subject_uuid         : uuid                         
          surgery_start_time   : datetime                     
          user_name            : varchar(255)                 
          ---
          surgeryuser_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class WaterRestrictionProcedure(dj.Manual):
          definition = """
          subject_uuid         : uuid                         
          restriction_start_time : varchar(255)                 
          procedure_type_name  : varchar(255)                 
          ---
          waterrestrictionprocedure_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class ProcedureType(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(procedure_type_uuid="uuid")
          ---
          procedure_type_name  : varchar(255)                 
          procedure_type_description=null : varchar(1024)                
          proceduretype_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class VirusInjection(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(virus_injection_uuid="uuid")
          ---
          subject_uuid         : uuid                         
          injection_time       : datetime                     # injection time
          injection_volume     : float                        # injection volume
          rate_of_injection    : float                        # rate of injection
          injection_type       : varchar(255)                 # injection type
          virusinjection_ts=CURRENT_TIMESTAMP : timestamp                    
          """
    ibl_ingest_acquisition: |-
      """This module was auto-generated by datajoint from an existing schema"""

      import datajoint as dj

      schema = dj.Schema('ibl_ingest_acquisition')

      vmod0 = dj.VirtualModule('vmod0', 'ibl_alyxraw')


      @schema
      class SessionProcedure(dj.Manual):
          definition = """
          subject_uuid         : uuid                         
          session_start_time   : datetime                     
          procedure_type_name  : varchar(255)                 
          ---
          sessionprocedure_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class ChildSession(dj.Manual):
          definition = """
          subject_uuid         : uuid                         
          session_start_time   : datetime                     
          ---
          parent_session_start_time : datetime                     
          childsession_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class SessionProject(dj.Manual):
          definition = """
          subject_uuid         : uuid                         
          session_start_time   : datetime                     
          ---
          session_project      : varchar(255)                 
          sessionproject_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class Session(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(session_uuid="uuid")
          ---
          session_number=null  : int                          
          subject_uuid         : uuid                         
          session_start_time   : datetime                     
          session_end_time=null : datetime                     
          session_lab=null     : varchar(255)                 
          session_location=null : varchar(255)                 
          session_type=null    : varchar(255)                 
          session_narrative=null : varchar(2048)                
          task_protocol=null   : varchar(255)                 
          session_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class WaterAdministrationSession(dj.Manual):
          definition = """
          subject_uuid         : uuid                         
          administration_time  : datetime                     
          ---
          session_start_time   : datetime                     
          wateradministrationsession_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class SessionUser(dj.Manual):
          definition = """
          subject_uuid         : uuid                         
          session_start_time   : datetime                     
          user_name            : varchar(255)                 
          ---
          sessionuser_ts=CURRENT_TIMESTAMP : timestamp                    
          """
    ibl_ingest_data: |-
      """This module was auto-generated by datajoint from an existing schema"""

      import datajoint as dj

      schema = dj.Schema('ibl_ingest_data')

      vmod0 = dj.VirtualModule('vmod0', 'ibl_alyxraw')


      @schema
      class DataRepository(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(repo_uuid="uuid")
          ---
          repo_name            : varchar(255)                 
          repotype_name        : varchar(255)                 
          repo_timezone        : varchar(255)                 
          repo_hostname        : varchar(255)                 
          globus_endpoint_id   : varchar(255)                 
          globus_path          : varchar(255)                 
          data_url=null        : varchar(255)                 
          globus_is_personal   : tinyint                      
          datarepository_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class FileRecord(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(record_uuid="uuid")
          ---
          exists               : tinyint                      
          subject_uuid         : uuid                         
          session_start_time   : datetime                     
          dataset_name         : varchar(255)                 
          repo_name            : varchar(255)                 
          relative_path        : varchar(255)                 
          """


      @schema
      class DataRepositoryType(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(repotype_uuid="uuid")
          ---
          repotype_name        : varchar(255)                 
          datarepositorytype_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class DataSet(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(dataset_uuid="uuid")
          ---
          subject_uuid         : uuid                         
          session_start_time   : datetime                     
          dataset_created_by=null : varchar(255)                 
          dataset_name         : varchar(255)                 
          dataset_type_name    : varchar(255)                 
          format_name          : varchar(255)                 
          created_datetime     : datetime                     
          generating_software=null : varchar(255)                 
          provenance_directory=null : varchar(255)                 
          md5=null             : varchar(255)                 
          file_size=null       : float                        
          """


      @schema
      class ProjectRepository(dj.Manual):
          definition = """
          project_name         : varchar(255)                 
          repo_name            : varchar(255)                 
          ---
          projectrepository_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class DataSetType(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(dataset_type_uuid="uuid")
          ---
          dataset_type_name    : varchar(255)                 
          dataset_type_created_by=null : varchar(255)                 
          filename_pattern     : varchar(255)                 
          dataset_type_description=null : varchar(1024)                
          datasettype_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class DataFormat(dj.Computed):
          definition = """
          -> vmod0.AlyxRaw.proj(format_uuid="uuid")
          ---
          format_name          : varchar(255)                 
          file_extension=""    : varchar(255)                 
          matlab_loader_function=null : varchar(255)                 
          python_loader_function=null : varchar(255)                 
          format_description=null : varchar(255)                 
          dataformat_ts=CURRENT_TIMESTAMP : timestamp                    
          """
    ibl_ingest_ephys: |-
      """This module was auto-generated by datajoint from an existing schema"""

      import datajoint as dj

      schema = dj.Schema('ibl_ingest_ephys')

      vmod0 = dj.VirtualModule('vmod0', 'ibl_alyxraw')


      @schema
      class ProbeModel(dj.Imported):
          definition = """
          -> vmod0.AlyxRaw.proj(probe_uuid="uuid")
          ---
          probe_name           : varchar(128)                 
          probe_model          : varchar(32)                  # 3A, 3B
          probe_manufacturer   : varchar(32)                  
          probe_description=null : varchar(2048)                
          probe_model_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class ProbeInsertion(dj.Imported):
          definition = """
          -> vmod0.AlyxRaw.proj(probe_insertion_uuid="uuid")
          ---
          probe_idx            : int                          # 0 for probe00, 1 for probe01
          probe_label=null     : varchar(255)                 # name in the alyx model experiments.probeinsertion
          subject_uuid         : uuid                         # subject uuid from session
          session_start_time   : datetime                     # session start time from session
          probe_name=null      : varchar(32)                  # probe name, from ProbeModel table
          probe_insertion_ts=CURRENT_TIMESTAMP : timestamp                    
          """
    ibl_ingest_histology: |-
      """This module was auto-generated by datajoint from an existing schema"""

      import datajoint as dj

      schema = dj.Schema('ibl_ingest_histology')

      vmod0 = dj.VirtualModule('vmod0', 'ibl_alyxraw')


      @schema
      class ChannelBrainLocation(dj.Imported):
          definition = """
          -> vmod0.AlyxRaw.proj(channel_brain_location_uuid="uuid")
          ---
          subject_uuid         : uuid                         
          session_start_time   : datetime                     
          probe_idx            : tinyint                      
          channel_axial        : decimal(6,1)                 
          channel_lateral      : decimal(6,1)                 
          channel_x            : decimal(6,1)                 
          channel_y            : decimal(6,1)                 
          channel_z            : decimal(6,1)                 
          insertion_data_source : varchar(128)                 
          ontology             : varchar(32)                  
          acronym              : varchar(32)                  
          """


      @schema
      class ProbeTrajectory(dj.Imported):
          definition = """
          -> vmod0.AlyxRaw.proj(probe_trajectory_uuid="uuid")
          ---
          subject_uuid         : uuid                         
          session_start_time   : datetime                     
          probe_idx            : int                          
          x                    : float                        
          y                    : float                        
          z                    : float                        
          depth                : float                        
          theta                : float                        
          phi                  : float                        
          roll=null            : float                        
          insertion_data_source : varchar(128)                 
          coordinate_system_name=null : varchar(32)                  
          trajectory_ts        : datetime                     
          """


      @schema
      class InsertionDataSource(dj.Lookup):
          definition = """
          insertion_data_source : varchar(128)                 # type of trajectory
          ---
          provenance           : int                          # provenance code
          """
    ibl_ingest_job: |-
      """This module was auto-generated by datajoint from an existing schema"""

      import datajoint as dj

      schema = dj.Schema('ibl_ingest_job')




      @schema
      class TimeZone(dj.Lookup):
          definition = """
          timezone             : varchar(16)                  
          """


      @schema
      class Task(dj.Lookup):
          definition = """
          task                 : varchar(64)                  
          ---
          task_order           : tinyint                      
          task_description=""  : varchar(1024)                
          """


      @schema
      class Job(dj.Manual):
          definition = """
          job_date             : date                         
          -> TimeZone.proj(job_timezone="timezone")
          ---
          alyx_current_timestamp : datetime                     
          alyx_previous_timestamp : datetime                     
          created_pks          : longblob                     
          modified_pks         : longblob                     
          deleted_pks          : longblob                     
          modified_pks_important=null : longblob                     
          session_prefiltered=0 : tinyint                      
          job_ts=CURRENT_TIMESTAMP : timestamp                    
          """


      @schema
      class TaskStatus(dj.Manual):
          definition = """
          -> Job
          -> Task
          ---
          task_start_time      : datetime                     
          task_end_time        : datetime                     
          task_duration        : float                        # in mins
          task_status_comments="" : varchar(1000)                
          """
